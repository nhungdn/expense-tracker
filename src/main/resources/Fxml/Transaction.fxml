<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Pagination?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600.0" prefWidth="1200.0" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.bachulun.Controllers.TransactionController">

    <top>
        <VBox alignment="CENTER" prefHeight="74.0" prefWidth="766.0" BorderPane.alignment="CENTER">
            <children>
                <HBox alignment="CENTER" prefHeight="100.0" prefWidth="200.0">
                    <children>
                        <Label prefHeight="35.0" prefWidth="1042.0" text="QUẢN LÍ GIAO DỊCH" textFill="#0b3d91">
                     <font>
                        <Font name="System Bold" size="24.0" />
                     </font></Label>
                        <Button fx:id="addTransaction" mnemonicParsing="false" prefHeight="26.0" prefWidth="135.0" style="-fx-background-color: #2b64ea;" text="Thêm giao dịch" textFill="WHITE">
                     <font>
                        <Font name="System Bold" size="12.0" />
                     </font></Button>
                    </children>
                </HBox>
                <HBox alignment="CENTER" prefHeight="100.0" prefWidth="200.0" spacing="10.0">
                    <children>
                        <TextField fx:id="searchField" prefHeight="26.0" prefWidth="120.0" promptText="Tìm kiếm giao dịch" style="-fx-text-fill: #152963;" />
                        <Label text="Từ ngày:">
                            <graphic>
                                <DatePicker fx:id="fromDatePicker" prefHeight="26.0" prefWidth="120.0" />
                            </graphic>
                        </Label>
                        <Label text="Đến ngày:">
                            <graphic>
                                <DatePicker fx:id="toDatePicker" prefHeight="26.0" prefWidth="120.0" />
                            </graphic>
                        </Label>
                        <ComboBox fx:id="typeComboBox" prefHeight="26.0" prefWidth="88.0" promptText="Loại" />
                        <ComboBox fx:id="categoryComboBox" prefHeight="26.0" prefWidth="100.0" promptText="Danh mục" />
                        <ComboBox fx:id="accountComboBox" prefHeight="26.0" prefWidth="112.0" promptText="Tài khoản" />
                    </children>
                </HBox>
            </children>
        </VBox>
    </top>

    <center>
        <!-- Thay vì chỉ có bảng, ta dùng TabPane chứa 2 tab -->
        <TabPane fx:id="tabPane" prefHeight="456.0" prefWidth="766.0" BorderPane.alignment="CENTER">
            <tabs>
                <!-- Tab 1: Danh sách giao dịch -->
                <Tab closable="false" text="Danh sách giao dịch">
                    <VBox prefHeight="456.0" prefWidth="766.0">
                        <children>
                            <TableView fx:id="transactionTable" prefHeight="402.0" prefWidth="745.0">
                                <columns>
                                    <TableColumn fx:id="dateCol" prefWidth="107.19997727870941" text="Ngày" />
                                    <TableColumn fx:id="typeCol" prefWidth="59.199989318847656" text="Loại" />
                                    <TableColumn fx:id="categoryCol" prefWidth="120.79997253417969" text="Danh mục" />
                                    <TableColumn fx:id="amountCol" prefWidth="169.5999755859375" text="Số tiền" />
                                    <TableColumn fx:id="accountCol" prefWidth="223.19992065429688" text="Tài khoản" />
                                    <TableColumn fx:id="descriptionCol" prefWidth="311.20001220703125" text="Mô tả" />
                                    <TableColumn fx:id="actionCol" prefWidth="192.0" text="Thao tác" />
                                </columns>
                            </TableView>
                            <Pagination fx:id="pagination" prefHeight="59.0" prefWidth="745.0" />
                        </children>
                        <padding>
                            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                        </padding>
                    </VBox>
                </Tab>

                <!-- Tab 2: Lịch sử chỉnh sửa -->
                <Tab closable="false" text="Lịch sử chỉnh sửa">
                    <AnchorPane>
                        <TableView fx:id="historyTable" layoutX="10" layoutY="10" prefHeight="420" prefWidth="740">
                            <columns>
                                <TableColumn fx:id="timeCol" prefWidth="150" text="Thời gian" />
                                <TableColumn fx:id="transactionIdCol" prefWidth="80" text="Mã GD" />
                                <TableColumn fx:id="oldAmountCol" prefWidth="100" text="Số tiền cũ" />
                                <TableColumn fx:id="newAmountCol" prefWidth="100" text="Số tiền mới" />
                                <TableColumn fx:id="oldDescCol" minWidth="0.0" prefWidth="156.7999267578125" text="Mô tả cũ" />
                                <TableColumn fx:id="newDescCol" prefWidth="152.0001220703125" text="Mô tả mới" />
                            </columns>
                        </TableView>
                    </AnchorPane>
                </Tab>
            </tabs>
        </TabPane>
    </center>
</BorderPane>
